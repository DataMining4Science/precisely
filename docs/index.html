<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimate Sample Size Based on Precision Rather Than Power • precisely</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Estimate Sample Size Based on Precision Rather Than Power">
<meta property="og:description" content="Estimate sample size based on precision rather than power. 
    precisely is a study planning tool to calculate sample size based on 
    precision rather than power. Power calculations are focused on whether or 
    not an estimate will be statistically significant; calculations of precision
    are based on the same principles as power calculation but turn the focus to
    the width of the confidence interval. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">precisely</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="/reference/index.html">Reference</a>
</li>
<li>
  <a href="/articles/introduction-to-precisely.html">An Introduction to precisely</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/malcolmbarrett/precisely">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="precisely-an-r-package-for-estimating-sample-size-based-on-precision" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#precisely-an-r-package-for-estimating-sample-size-based-on-precision" class="anchor"></a>precisely: An R package for estimating sample size based on precision</h1></div>
<p>precisely is a study planning tool to calculate sample size based on precision rather than power. Power calculations are focused on whether or not an estimate will be statistically significant; calculations of precision are based on the same prinicples as power calculation but turn the focus to the width of the confidence interval.</p>
<p>This package includes a Shiny app to help with calculations, which you can start with <code><a href="reference/launch_precisely_app.html">launch_precisely_app()</a></code>. You can also find a live version at <a href="https://malcolmbarrett.shinyapps.io/precisely/">malcolmbarrett.shinyapps.io/precisely</a>.</p>
<p>For more, see the <a href="http://precisely.malco.io/articles/introduction-to-precisely.html">vignette</a>.</p>
<p>These tools are based on the work of <a href="https://www.ncbi.nlm.nih.gov/pubmed/29912015">Rothman and Greenland</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version of precisely with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"malcolmbarrett/precisely"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>precisely has functions for studies using risk differences, risk ratios, rate differences, rate ratios, and odds ratios. The heart of these calculations is the desired precision. For ratio measures, this is the ratio of the upper to lower limit of the confidence interval. For difference measures, this is the absolute width of the confidence interval. To calculate sample size for a given precision, you also need proportions for the two groups (the risk or rate in the exposed and unexposed participants in a cohort study or the exposure prevalence in the cases and controls in case-control studies), the ratios of the two groups (the unexposed to the exposed in cohort studies or controls to cases in case-control studies), and the desired confidence interval probability. The default is 95%.</p>
<p>Let’s say we want to calculate the sample size needed to estimate a 90% CI for a risk difference of .1 with an absolute width of .08. Here, the risk among the exposed is .4, the risk among the unexposed is .3, and there are three times as many unexposed participants.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(precisely)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="reference/n_risk_difference.html">n_risk_difference</a></span>(</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">  <span class="dt">precision =</span> <span class="fl">.08</span>,</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="dt">exposed =</span> <span class="fl">.4</span>,</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="dt">unexposed =</span> <span class="fl">.3</span>,</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="dt">group_ratio =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  <span class="dt">ci =</span> <span class="fl">.90</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; # A tibble: 1 x 8</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;   n_exposed n_unexposed n_total risk_difference precision exposed unexposed</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt; 1      524.       1573.   2097.             0.1      0.08     0.4       0.3</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; # ... with 1 more variable: group_ratio &lt;dbl&gt;</span></a></code></pre></div>
<p>precisely also provides functionality to calculate the precision of an estimate given a sample size and to calculate sample size based on probability that the upper limit of the confidence interval is below a level of concern.</p>
<p>To calculate several values and plot them, use <code><a href="reference/map_precisely.html">map_precisely()</a></code> and the included <code>plot_*()</code> functions.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="reference/map_precisely.html">map_precisely</a></span>(</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  upper_rate_ratio, </a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="dt">upper_limit =</span> <span class="kw">seq</span>(<span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="dt">by =</span> <span class="fl">.1</span>),</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="dt">prob =</span> <span class="kw">seq</span>(.<span class="dv">50</span>, <span class="fl">.95</span>, <span class="dt">by =</span> <span class="fl">.05</span>),</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="dt">exposed =</span> <span class="fl">.01</span>,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  <span class="dt">unexposed =</span> <span class="fl">.01</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">  <span class="dt">group_ratio =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"> ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="st">  </span><span class="kw">group_by</span>(<span class="st">"Probability"</span> =<span class="st"> </span><span class="kw">factor</span>(prob)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="st">  </span><span class="kw"><a href="reference/plot_sample_size.html">plot_upper_limit</a></span>(<span class="dt">line_size =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="st">    </span><span class="kw">scale_color_viridis_d</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> scales<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/scales/topics/pretty_breaks">pretty_breaks</a></span>(<span class="dv">3</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="st">    </span><span class="kw"><a href="reference/theme_precisely.html">theme_precisely</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="st">    </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"right"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>group_ratio,</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">               <span class="dt">labeller =</span> <span class="kw">as_labeller</span>(<span class="cf">function</span>(x) <span class="kw">paste</span>(<span class="st">"Unexposed/Exposed:"</span>, x)))</a></code></pre></div>
<p><img src="../../../../Google%20Drive/Active/r_packages/precisely/man/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/malcolmbarrett/precisely">https://​github.com/​malcolmbarrett/​precisely</a>
</li>
<li>Report a bug at <br><a href="https://github.com/malcolmbarrett/precisely/issues">https://​github.com/​malcolmbarrett/​precisely/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://malco.io">Malcolm Barrett</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/malcolmbarrett/precisely"><img src="https://travis-ci.org/malcolmbarrett/precisely.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/malcolmbarrett/precisely"><img src="https://ci.appveyor.com/api/projects/status/github/malcolmbarrett/precisely?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://malco.io">Malcolm Barrett</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
